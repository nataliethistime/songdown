<!DOCTYPE html>
<html>
<head>
    <title>Songdown</title>

    <style type="text/css">
        .chords {
            font-weight: bold;
        }
        .chords, .lyrics {
            margin-left: 10%;
        }
        .verse-head {
            font-style: italic;
            margin-left: 5%;
        }
        #song {
            font-family: "Anonymous Pro", monospace;
            float: left;
            width: 80%;
        }
        #sidebar {
            width: 20%;
            float: right;
        }

        /* Do this to avoid cutting verses off across pages. */
        @media print {
            .verse {
                page-break-inside: avoid;
            }
            #sidebar {
                display: none;
            }
        }
    </style>
</head>
<body>

<div id="song">
    {{song_html}}
</div>

<div id="sidebar">
    <h3>Toolbox</h3>

    <label for="fontSize">Font size: <input type="text" id="fontSize"></label>
    <button type="button" id="printButton">Print</button>
</div>

<script type="text/javascript" src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
<script type="text/javascript">

    // Some default variables...
    var FONT_SIZE = 16;

    function init() {
        $('#fontSize').attr('value', FONT_SIZE);
        setFontSize(FONT_SIZE);

        initEvents();
    }

    function initEvents() {
        $('#fontSize').on('change', function() {
            setFontSize(parseInt($(this).val(), 10));
        });

        $('#printButton').click(printPage);
    }

    function setFontSize(size) {
        size = size || FONT_SIZE;
        $('#song').css('font-size', size + 'px');
    }

    function printPage() {
        // $('#sidebar').hide();
        window.print();
        // $('#sidebar').show();
    }

    $(window.document).on('ready', init);
</script>

</body>
</html>
